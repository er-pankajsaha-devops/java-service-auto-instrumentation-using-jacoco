# â³Overview
## âœ…Components Required.
1. Existing kuberenetes cluster.
2. Jacoco injected agent service image.
3. Shared volume for file sharing between pods.

## ğŸ“Steps.
1.  __Create a Shared Volume.__\
    First we need a shared volume, which our services can use to share the .exec files generated by the jacoco agent.\
    *   Using AWS Elastic File System.
        ```bash
        kubectl apply -f ./Volume-Mounts/EFS/volume-config.yaml
        ```
    *   Using Windows File System.
        ```bash
        kubectl apply -f ./Volume-Mounts/Windows-filesystem/volume-config.yaml
        ```
2.  __Publish the jacoco-sidecar image__
    *   Image will be generated once the [pipeline](Containers/jacoco-sidecar-image/.gitlab-ci.yml) passes
3.  __Publish the java-service-injected-agent image__
    *   Image will be generated once the [pipeline](Containers/java-service-injected-agent/.gitlab-ci.yml) passes
4.  __Publish the jacoco-report-aggregator image__
    *   Image will be generated once the [pipeline](Containers/aggregate-jacoco-report/.gitlab-ci.yml) passes
5.  __Deployment__
    *   Deploy the Deployment Manifest - [deployment.yaml](./Manifests/deployment.yaml) in kubernetes cluster.
    *   Deploy the Service Manifest - [service.yaml](./Manifests/service.yaml) in kubernetes cluster.

## â™» Conclusion.
ğŸ‘† Post performing above steps, user will be able to analyse the instrumented report in /home/jacoco-instrumentation/ dir of the java-service pod. Happy instrumenting ğŸ¥³